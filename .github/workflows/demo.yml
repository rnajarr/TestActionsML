#name: GitHub Actions Demo with Docker
#run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
#on: push
#jobs:
#  Explore-GitHub-Actions:
#    name: Run Matlab in docker
#    runs-on: ubuntu-latest
#    container:
#      image: mathworks/matlab:latest
#      volumes:
#        - ${{ github.workspace }}
#    steps:
#      - name: example command execute
#        run: ls -la
#      - name: pwd
#        run: pwd
#      - name: Print workspace
#        run: pwd ${{ github.workspace }}
#      - name: cd
#        run: cd ${{ github.workspace }} && ls
#      - name: Check out the repo
#        uses: actions/checkout@v2
      

name: EjecuciÃ³n de script MATLAB

on:
  push:
    branches:
      - main

jobs:
  ejecucion-de-script:
    runs-on: ubuntu-latest
#    container:
#      image: mathworks/matlab:latest
    steps:
      - name: Checkout del repositorio
        uses: actions/checkout@v2
      - name: EjecuciÃ³n de imagen de MATLAB
        run: docker run --rm -e MLM_LICENSE_FILE=7350@linuxcls10.dearborn.ford.com -v $PWD/Scripts:/scripts mathworks/matlab:r2021a matlab -nodisplay -nosplash -nodesktop -r "run('/scripts/example.m');exit;"
        #run: docker run --rm -e MLM_LICENSE_FILE=7350@linuxcls10.dearborn.ford.com -v $PWD/Scripts:/scripts mathworks/matlab:latest -nodisplay -r "run('/scripts/example.m')"
